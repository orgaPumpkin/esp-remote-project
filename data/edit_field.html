<html>
<head>
	<title>ESP Web Server</title> <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<h1>{field}</h1>
<h2>{disable_fields}</h2>
<form action="" method="post">
	<input id="add_option" type="text" name="add_option" autocomplete="off">
	<input type="submit" value="Add option">
</form>
<form action="" method="post">
	<input id="remove_option" type="text" name="remove_option" autocomplete="off">
	<input type="submit" value="Remove option">
</form>
<h3 id="text" hidden>Edit options:</h3>
<form id="options_form" action="" method="post">
	<div id="options-box"></div>
	<input hidden id="options" type="text" value="{options}">
</form>
<a href="/remote">
	<button>Back to remote</button>
</a>
<h2>%s</h2>
</body>
<script>
	const text = document.getElementById("text")
    const option = document.getElementById("options")
    const options = option.value.split(",")
    const options_form = document.getElementById("options-box")
    if (options[0] !== "") {
        text.hidden = false
        for (let i = 0; i < options.length; i++) {
            let new_option = document.createElement("button")
            new_option.type = "submit"
            new_option.name = "add_option"
            new_option.innerText = options[i]
            new_option.value = options[i]
            new_option.style.display = "block"
            options_form.appendChild(new_option)
        }
    }
</script>
</html>